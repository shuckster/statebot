/*
 * Statebot
 * v3.0.5
 * https://shuckster.github.io/statebot/
 * License: MIT
 */
var statebot=(function(t){"use strict";function n(t){return{all:t=t||new Map,on:function(n,e){var r=t.get(n);r?r.push(e):t.set(n,[e])},off:function(n,e){var r=t.get(n);r&&(e?r.splice(r.indexOf(e)>>>0,1):t.set(n,[]))},emit:function(n,e){var r=t.get(n);r&&r.slice().map((function(t){t(e)})),(r=t.get("*"))&&r.slice().map((function(t){t(n,e)}))}}}function e(t){return l(t)&&c(t.emit)&&(c(t.addListener)||c(t.on))&&(c(t.removeListener)||c(t.off))}function r(t){return Array.isArray(t)}function o(t){return"[object Arguments]"===Object.prototype.toString.call(t)}function c(t){return"function"==typeof t}function i(t){return"string"==typeof t}function a(t){return r(t)&&t.every(i)}function s(t){return void 0===t}function u(t){return null===t}function f(t){return"number"==typeof t}function l(t){return"object"==typeof t&&!u(t)}function p(t){return!(u(t)||!l(t)||o(t))&&Object.getPrototypeOf(t)===Object.prototype}function h(t){return!!i(t)||!!r(t)&&t.every(i)}e.displayName="isEventEmitter",r.displayName="isUnset",r.displayName="isArray",o.displayName="isArguments",c.displayName="isFunction",i.displayName="isString",a.displayName="isAllStrings",s.displayName="isUndefined",u.displayName="isNull",f.displayName="isNumber",l.displayName="isObject",p.displayName="isPojo",h.displayName="isTemplateLiteral";const m=t=>(n,e)=>{if(e>=t.length)return;const{argName:r,argType:o}=t[e];if(s(n))return'Argument undefined: "'.concat(r,'"');const a=Array.isArray(o)?o:[o],u=a.map((t=>c(t)?((t,n,e)=>n(e)?void 0:(n.displayName||n.name)+"(".concat(t,") did not return true"))(r,t,n):((t,n,e)=>typeof e===n?void 0:'Argument "'.concat(t,'" should be a ').concat(n))(r,t,n))).filter(i);return(a.length>1?u.length>1:u.length)?u.join("\n| ")+"\n> typeof ".concat(r," === ").concat(typeof n,"(").concat(JSON.stringify(n),")"):void 0};function d(t){return n=>{const e=Object.entries(n).map((t=>{let[n,e]=t;return{argName:n,argType:e}}));return r=>function(){for(var c=arguments.length,a=new Array(c),s=0;s<c;s++)a[s]=arguments[s];const u=Array.from(a,(t=>o(t)?Array.from(t):t)).flat(1),f=u.map(m(e)).filter(i);if(!f.length)return;const l=Object.keys(n).join(", ");return"\n".concat(t||"").concat(r,"(").concat(l,"):\n")+"".concat(f.map((t=>"| ".concat(t))).join("\n"))}}}function g(t){const n=t.addListener?function(){return t.addListener(...arguments)}:function(){return t.on(...arguments)},e=t.removeListener?function(){return t.removeListener(...arguments)}:function(){return t.off(...arguments)},r=new Map;return{emit:function(n){for(var e=arguments.length,r=new Array(e>1?e-1:0),o=1;o<e;o++)r[o-1]=arguments[o];return t.emit(n,r)},on:function(t,e){let o=r.get(e);o||(o={handleEvent:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e(...[t].flat())},refCount:0},r.set(e,o)),o.refCount+=1,n(t,o.handleEvent)},off:function(t,n){let o=r.get(n);o&&(e(t,o.handleEvent),o.refCount-=1,0===o.refCount&&r.delete(n))}}}function y(t){return t.reduce(((t,n)=>-1===t.indexOf(n)?(t.push(n),t):t),[])}function w(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];const o=setTimeout(t,0,...e);return()=>{clearTimeout(o)}}function v(t){const{revoke:n,fn:e}=E(t);let r;return function(){return r=e(...arguments),n(),r}}function E(t){let n,e=!1;return{fn:function(){return e||(n=t(...arguments)),n},revoke:()=>{e=!0}}}function b(t,n,e){for(var r=arguments.length,o=new Array(r>3?r-3:0),c=3;c<r;c++)o[c-3]=arguments[c];const i=[...o].flat().reduce(((t,n)=>({...t,[n]:0})),{});function a(t){return i[t]=u(t)+1,()=>{s(t)}}function s(t){const n=u(t)-1;i[t]=Math.max(n,0)}function u(t){return i[t]||0}function f(){return{...i}}function l(){return Object.keys(i).sort().map((t=>[t,i[t]])).map((t=>{let[e,r]=t;return{[n]:e,refs:r||"None"}}))}function p(){return{description:"".concat(t,": ").concat(e,":"),table:l()}}return{increase:a,decrease:s,countOf:u,toValue:p,refs:f}}function T(t,n){function e(){return t>=1}function r(){return t>=2}function o(){return t>=3}i(t)&&(t={info:3,log:2,warn:1,none:0}[t]||3);const{info:c,table:a,log:s,warn:u,error:f}=n||console;return{canWarn:e,canLog:r,canInfo:o,info:function(){o()&&c(...arguments)},table:function(){r()&&a(...arguments)},log:function(){r()&&s(...arguments)},warn:function(){e()&&u(...arguments)},error:function(){f(...arguments)}}}const S=/[\r\n]/,A="|",O="->",N=[A,O].map((t=>t.replace("|","\\|"))).join("|"),j=new RegExp("(".concat(N,")$")),I=/[^a-z0-9!@#$%^&*:_+=<>|~.\x2D]/gi,L=/(\/\/[^\n\r]*)/,x=d("statebot.");function k(t){const n=x({templateLiteral:h})("decomposeRoute")(t);if(n)throw TypeError(n);return P(C(t)).flat(2)}function M(t){const n=x({chart:h})("decomposeChart")(t);if(n)throw TypeError(n);const e=P(C(t)),r=e.flatMap(R).flatMap(F);let o=!1;const c=y(r.map((t=>(t.includes("")&&(o=!0),t.join(O))))),i=y(e.flat(3));return{transitions:c.map((t=>t.split(O))),routes:c,states:o?i:i.filter(Boolean)}}function C(t){const n=(function(t){return[t].flat().reduce(((t,n)=>[...t,...n.split(S)]),[])})(t),e=[];let r=!1;const o=n.reduce(((t,n)=>{const o=n.replace(L,"").replace(I,"");return o?(r=j.test(o),r?t+o:(e.push(t+o),"")):t}),"");return r||o?[...e,o]:[...e]}function P(t){return t.map((t=>t.split(O).map((t=>t.split(A)))))}function R(t){const n=[];return t.reduce(((t,e)=>(!1===t||n.push([t,[...e]]),[...e])),!1),n}function F(t){let[n,e]=t;return n.reduce(((t,n)=>(t.push(...e.map((t=>[n,t]))),t)),[])}const _="onExiting",D="onEntering",U="onExited",H="onEntered",W="onSwitching",Y="onSwitched",B={[W]:"(ANY)state:changing",[Y]:"(ANY)state:changed"};function G(t,o){if(!i(t))throw new TypeError("\nStatebot: Please specify a name for this machine");const u="Statebot[".concat(t,"]");if(!p(o))throw new TypeError("\n".concat(u,": Please specify options for this machine"));const{chart:f,logLevel:l=3,historyLimit:h=2}=o||{},m=s(o.events)?g(n()):e(o.events)&&g(o.events);if(!m)throw new TypeError("\n".concat(u,": Invalid event-emitter specified in options"));const{states:y=[],routes:w=[]}=f?M(f):o,{startIn:E=y[0]}=o;if(!y.includes(E))throw new Error("".concat(u,': Starting-state not in chart: "').concat(E,'"'));const S=d("".concat(u,"#")),A=T(l,console),{canWarn:N}=A,j=[E],I=Math.max(h,2);let L=0;const{pause:x,resume:k,paused:C,Pausable:P}=(function(t,n){n=n||function(){};let e=!!t;return{Pausable:function(t){return function(){return e?(n(),!1):t(...arguments)}},paused:()=>e,pause:()=>{e=!0},resume:()=>{e=!1}}})(!1,(()=>A.warn("".concat(u,": Ignoring callback, paused")))),R=(function(){const t={};function n(n,e){t[n]=(t[n]||[]).filter((t=>t!==e)),0===t[n].length&&delete t[n]}return{define:function(e,r){return t[e]=t[e]||[],t[e].push(r),()=>n(e,r)},undefine:n,definitionsOf:function(n){return t[n]||[]}}})(),F=g(n()),G=P(F.emit);function $(t,n){return F.on(t,n),()=>F.off(t,n)}const z=b(u,"states","Listening for the following state-changes",[...y]),J=b(u,"transitions","Listening for the following transitions",[...w]),K=b(u,"events","Listening for the following events");function q(t,n){const e=c(t)?t({enter:it,emit:ct,Enter:lt,Emit:ft}):p(t)?t:null;if(!p(e))throw new TypeError("".concat(u,"#").concat(n,"(): Expected an object, or a function that returns an object"));const o=[],a=[],{transitionsForEvents:s,transitionsOnly:f}=(function(t){const n={},e=[];return Object.entries(t).map((t=>{let[o,a]=t;if(c(a))return void e.push({routeChart:o,action:a});if(!p(a))return;const{on:s,then:u}=a;if(i(s)||r(s)){[s].flat().map((t=>{n[t]=n[t]||[],n[t].push({routeChart:o,action:u})}))}else c(u)&&e.push({routeChart:o,action:a})})),{transitionsForEvents:n,transitionsOnly:e}})(e),l=Object.entries(s).reduce((function(t,n){let[e,r]=n;const{states:c,routes:i,configs:s}=V(r,N);N()&&(o.push(...c),a.push(...i));return{...t,[e]:s}}),{}),h=V(f,N),m=Object.entries(l).map((function(t){let[n,e]=t;return[K.increase(n),at(n,(function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];const c=e.map((t=>({...t,args:r}))).some(d);c||mt('Event not handled: "'.concat(n,'"'))}))].concat(e.map((t=>{let{fromState:e,toState:r}=t;return R.define("".concat(n,":").concat(e),r)})))})).concat(h.configs.map((function(t){const{fromState:n,toState:e,action:r}=t,o="".concat(n,"->").concat(e);return[J.increase(o),$(o,(c=e,i=r,function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return g(c,i,...n)}))];var c,i}))).flat();if(N()){o.push(...h.states),a.push(...h.routes);const t=o.filter((t=>!y.includes(t))),e=a.filter((t=>!w.includes(t)));t.length&&A.warn("".concat(u,"#").concat(n,"(): Invalid states specified:\n")+t.map((t=>'  > "'.concat(t,'"'))).join("\n")),e.length&&A.warn("".concat(u,"#").concat(n,"(): Invalid transitions specified:\n")+e.map((t=>'  > "'.concat(t,'"'))).join("\n"))}return()=>m.map((t=>t()));function d(t){let{fromState:n,toState:e,action:r,args:o}=t;return ot(n,(()=>(it(e,...o),c(r)&&g(e,r,...o),!0)))}function g(t,n){for(var e=arguments.length,r=new Array(e>2?e-2:0),o=2;o<e;o++)r[o-2]=arguments[o];const i=n(...r);if(c(i)){const n=v(ut[_](t,(t=>{n(),i(t)})));m.push(n)}}}function Q(t,n){let e=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=S({eventName:i})("peek")(t);if(r)throw new TypeError(r);const o=t+":"+Z(),a=R.definitionsOf(o);if(a.length>1){const n="".concat(u,': Event "').concat(t,'" causes multiple transitions.\n')+'  > From state: "'.concat(Z(),'"\n')+'  > To states: "'.concat(a.join(", "),'"\n\n')+"Check your performTransitions() config.";throw new RangeError(n)}e||0!==a.length||(0===K.countOf(t)?A.warn("".concat(u,': Event not handled: "').concat(t,'"')):A.warn("".concat(u,': Will not transition after emitting: "').concat(t,'"')));const f=a[0];if(s(n))return s(f)?Z():f;const l=S({stateObject:p})("peek")(n);if(l)throw new TypeError(l);if(Object.prototype.hasOwnProperty.call(n,f)){const t=n[f];return c(t)?t():t}return null}function X(){return j[j.length-2]}function Z(){return j[j.length-1]}function tt(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];const r=S({states:a})("canTransitionTo")([n]);if(r)throw new TypeError(r);if(!n.length)return!1;const o=nt();return n.every((t=>o.includes(t)))}function nt(t){const n=s(t)?Z():t,e=S({state:i})("statesAvailableFromHere")(n);if(e)throw new TypeError(e);return w.reduce(((t,e)=>{const[r,o]=e.split(O).map((t=>t.trim()));return r===n?[...t,o]:t}),[])}function et(t,n){const e=Z()===t;if(s(n))return e;if(!e)return null;if(c(n)){for(var r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];return n(...o)}return n}function rt(t){const n=Object.entries(t).find((t=>{let[n]=t;return et(n)}));for(var e=arguments.length,r=new Array(e>1?e-1:0),o=1;o<e;o++)r[o-1]=arguments[o];return n?et(...n.concat(r)):null}function ot(){const t=S({state:[i,p]})("inState")(arguments.length<=0?void 0:arguments[0]);if(t)throw new TypeError(t);return p(arguments.length<=0?void 0:arguments[0])?rt(...arguments):et(...arguments)}const ct=function(t){const n=S({eventName:i})("emit")(t);if(n)throw new TypeError(n);Q(t);for(var e=arguments.length,r=new Array(e>1?e-1:0),o=1;o<e;o++)r[o-1]=arguments[o];return m.emit(t,...r)},it=function(t){const n=S({state:i})("enter")(t);if(n)throw new TypeError(n);const e=Z(),r=t;if(r===e)return mt('Already in state: "'.concat(r,'"')),!1;if(!y.includes(r))return mt('Invalid state "'.concat(r,'", not switching')),!1;const o="".concat(e,"->").concat(r);if(!w.includes(o))return mt('Invalid transition "'.concat(o,'", not switching')),!1;A.info("".concat(u,": tId<").concat(++L,">: ").concat(o)),j.push(r),j.length>I&&j.shift();for(var c=arguments.length,a=new Array(c>1?c-1:0),s=1;s<c;s++)a[s-1]=arguments[s];return G(B[W],r,e,...a),G(o,...a),G(B[Y],r,e,...a),!0};function at(t,n){const e=S({eventName:i,cb:c})("onEvent")(t,n);if(e)throw new TypeError(e);return m.on(t,n),()=>m.off(t,n)}const st=Object.keys(B).reduce(((t,n)=>({...t,[n]:t=>{const e=S({cb:c})(n)(t);if(e)throw new TypeError(e);const r=z.increase(B[n]),o=$(B[n],t);return()=>{o(),r()}}})),{}),ut=[[_,W],[D,W],[U,Y],[H,Y]].reduce(((t,n)=>{const[e,r]=n,o=e.slice(2),a=o.toLowerCase();return{...t,[e]:(t,n)=>{const s=S({state:i,cb:c})(e)(t,n);if(s)throw new TypeError(s);const u=[z.increase(t),z.increase("".concat(t,":").concat(a))],f=st[r]((function(e,r){for(var c=arguments.length,i=new Array(c>2?c-2:0),a=2;a<c;a++)i[a-2]=arguments[a];0===o.indexOf("Exit")?t===r&&n(e,...i):t===e&&n(r,...i)}));return()=>{f(),u.map((t=>t()))}}}}),{});function ft(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];const o=S({eventName:i})("Emit")(t);if(o)throw new TypeError(o);return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return ct(t,...e,...r)}}function lt(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];const o=S({state:i})("Enter")(t);if(o)throw new TypeError(o);return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return it(t,...e,...r)}}function pt(t,n){for(var e=arguments.length,r=new Array(e>2?e-2:0),o=2;o<e;o++)r[o-2]=arguments[o];return function(){for(var e=arguments.length,o=new Array(e),c=0;c<e;c++)o[c]=arguments[c];return ot(t,n,...r,...o)}}function ht(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return ot(t,...e,...r)}}function mt(t){const n=X(),e=Z(),r="".concat(s(n)?"[undefined]":n,"->").concat(e),o=nt();o.length?A.info("".concat(u,": ").concat(t,"\n")+'  > Previous transition: "'.concat(r,'"\n')+'  > From "'.concat(e,'", valid states are: [').concat(o.map((t=>'"'.concat(t,'"'))).join(", "),"]")):A.info("".concat(u,": ").concat(t,"\n")+'  > Previous transition: "'.concat(r,'"\n')+'  > There are no states available from "'.concat(e,'"'))}function dt(t){const{description:n,table:e}=t.toValue();A.log(n),e.length?A.table(e):A.log("  > No information")}return{__STATEBOT__:1,statesAvailableFromHere:nt,canTransitionTo:function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];const r=n.flat();if(2===r.length&&i(r[0])&&p(r[1])){const t=r[0],{afterEmitting:n}=r[1],e=S({thisState:i,"{ afterEmitting }":i})("canTransitionTo")(t,n);if(e)throw new TypeError(e);return t!==Z()&&Q(n)===t}return tt(...r)},currentState:Z,previousState:X,history:()=>[...j],emit:P(ct),Emit:P(ft),enter:P(it),Enter:P(lt),inState:ot,InState:function(){const t=S({state:[i,p]})("InState")(arguments.length<=0?void 0:arguments[0]);if(t)throw new TypeError(t);return p(arguments.length<=0?void 0:arguments[0])?ht(...arguments):pt(...arguments)},info:()=>(A.log("".concat(u,": Information about this state-machine")),dt(z),dt(J),void dt(K)),inspect:()=>({states:z.refs(),transitions:J.refs(),events:K.refs()}),name:()=>t,onEntered:ut[H],onEntering:ut[D],onExited:ut[U],onExiting:ut[_],onSwitched:st[Y],onSwitching:st[W],onEvent:at,onTransitions:t=>q(t,"onTransitions"),performTransitions:t=>q(t,"performTransitions"),pause:x,paused:C,peek:function(t,n){return Q(t,n,!1)},reset:function(){A.warn("".concat(u,": State-machine reset!")),j.length=0,j.push(E)},resume:k}}function V(t,n){const e=[],r=[];return{configs:t.reduce(((t,o)=>{const{routeChart:c,action:i}=o,{states:a,routes:s,transitions:u}=M(c);return n()&&(e.push(...a),r.push(...s)),[...t,...u.map((t=>{let[n,e]=t;return{fromState:n,toState:e,action:i}}))]}),[]),states:e,routes:r}}function $(t){return p(t)&&f(t.__STATEBOT__)}const z=d("statebot.");let J=0;function K(){const t=Date.now();function n(t,n){return t.toFixed(n).replace(/\.0+$/,"")}return function(){const e=Date.now()-t;return e<500?"".concat(n(e)," ms"):e<5e3?"".concat(n(e/1e3,2)," s "):e<6e4?"".concat(n(e/1e3,1)," s "):"".concat(n(e/1e3/60,1)," m ")}}const{useEffect:q,useState:Q,useMemo:X}=(Z=window,"undefined"!=typeof React?React:Z);var Z;const{useStatebot:tt,useStatebotFactory:nt,useStatebotEvent:et}=(t=>{let{Statebot:n,useEffect:e,useState:r,useMemo:o}=t;function c(t){const[n,o]=r(t.currentState());return e((()=>{let n=!1;const e=t.onSwitched((t=>{n||o(t)}));return()=>{n=!0,e()}}),[t]),n}return[e,r,o].every((t=>"function"==typeof t))||console.warn("Statebot Hooks unavailable: React or Mithril not found"),{useStatebot:c,useStatebotFactory:function(t,r){const{bot:i,listeners:a}=o((()=>{const{performTransitions:e={},onTransitions:o={},...c}=r||{},i=n(t,c),a=[i.performTransitions(e),i.onTransitions(o)];return{bot:i,listeners:a}}),[]);return e((()=>()=>{"function"==typeof i.pause&&i.pause(),a.forEach((t=>t()))}),[i,a]),{state:c(i),bot:i}},useStatebotEvent:function(t,n,r,o){e((()=>{let e=!1;const c="function"==typeof o?[r,function(){e||o(...arguments)}]:[function(){e||r(...arguments)}],i=t[n](...c);return()=>{e=!0,i()}}),[t,n,r,o])}}})({Statebot:G,useEffect:q,useState:Q,useMemo:X});return t.Statebot=G,t.assertRoute=function(t,n,e){const r=z({machine:$,expectedRoute:h})("assertRoute")(t,n);if(r)throw TypeError(r);J+=1;const{description:o="Assertion complete",fromState:c="",run:i=(()=>{}),permittedDeviations:a=0,timeoutInMs:s=1e3,logLevel:u=3}=e||{},f=T(u),l="Statebot[".concat(t.name(),"]: aId<").concat(J,">"),p=k(n);f.log("\n".concat(l,": Asserting route: [").concat(p.join(" > "),"]")),f.log("".concat(l,': > Assertion will start from state: "').concat(c,'"'));const m=(d=i,function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return w(d,...n)});var d;let g=()=>{};const y=K();let b,S=K(),A=0,O=!0,N=!1;const j=[...p],I=(function(t,n){n=n||[];const e=[],r=(t=t||[]).map(((t,e)=>n[e]||"center"));let o=!1;function c(){o=!0}function i(){for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];if(o)return;const i=t.reduce(((t,n,e)=>({...t,[n]:r[e]||""})),{});e.push(i)}function a(){return e.reduce(((n,e)=>t.map(((t,r)=>Math.max(e[t].length,n[r])))),t.map((()=>0)))}function s(){const n=a();function o(t,e){const o=n[e],c=r[e];return"left"===c?t.padEnd(o):"right"===c?t.padStart(o):t}return e.reduce(((n,e)=>{const r=t.reduce(((t,n,r)=>({...t,[n]:o(e[n],r)})),{});return[...n,r]}),[])}return{lock:c,addRow:i,content:s}})(["state","expected","info","took"],["center","center","left","right"]),L=v((t=>(x("","","","TOTAL: "+y()),I.lock(),f.log("\n".concat(l,": ").concat(o,": [").concat(t?"FAILED":"SUCCESS","]")),f.table(I.content()),t))),{addRow:x}=I;return new Promise(((n,e)=>{if(0===j.length)return void e(L(new Error("NO ROUTE TO TEST")));const r=n=>{for(;j.length;){const e=j.shift();x(t.currentState(),"(".concat(e,")"),n),N=!1}(t=>{clearTimeout(b),g(),u(),e(t)})(L(new Error(n)))};t.inState(c)&&(O=!1,g=m());const{revoke:o,fn:i}=E((t=>{b=setTimeout((()=>{o(),r("TIMEOUT")}),s),(function(t){if(O)x(t,"-","PENDING");else{const n=j[0];n===t?(x(t,n,N?"REALIGNED":"OKAY",S()),N=!1,j.shift()):(x(t,n,"WRONG STATE",S()),N=!0,A+=1),S=K()}})(t),O&&t===c&&(O=!1,g=m()),A>a&&(o(),r("TOO MANY DEVIATIONS")),j.length<=0&&(o(),(function(){clearTimeout(b),g(),u(),n(...arguments)})(L()))})),u=t.onSwitching(i)}))},t.decomposeChart=M,t.isStatebot=$,t.routeIsPossible=function(t,n){const e=z({machine:$,route:h})("routeIsPossible")(t,n);if(e)throw TypeError(e);const r=k(n);return r.every(((n,e)=>{if(e===r.length-1)return!0;{const o=r[e+1];return t.statesAvailableFromHere(n).includes(o)}}))},t.useStatebot=tt,t.useStatebotEvent=et,t.useStatebotFactory=nt,Object.defineProperty(t,"__esModule",{value:!0}),t})({});
